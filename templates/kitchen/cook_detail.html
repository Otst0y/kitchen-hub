{% extends "base.html" %}
{% load static %}

{% block content %}

  <a href="{% url 'kitchen:cook-list' %}"
     class="btn btn-secondary position-absolute mt-4">Go to cooks</a>

  <div class="container mt-5">
    <div class="row justify-content-center">
      <div class="col-md-6">

        <div class="card shadow-sm p-4">
          <div class="text-center mb-3">
            <img src="{% static cook.avatar %}" alt="avatar" class="rounded-circle mb-2" width="100">
            <h4>{{ cook.first_name }} {{ cook.last_name }}</h4>
            <p class="text-muted">{{ cook.years_of_experience }} year{{ cook.years_of_experience|pluralize }} of
              experience</p>
          </div>

          <hr>

          <h5 class="mb-3">Responsible for these dishes:</h5>
          {% if cook.dishes.all %}
            <ul class="list-group mb-3">
              {% for dish in cook.dishes.all %}
                <li class="list-group-item d-flex justify-content-between align-items-center">
                  <a href="{% url 'kitchen:dish-detail' dish.pk %}">{{ dish.name }}</a>
                </li>
              {% endfor %}
            </ul>
          {% else %}
            <p class="text-muted">No dishes assigned yet.</p>
          {% endif %}

          {% if request.user.pk == cook.pk %}
            <div class="text-center">
              <a href="{% url 'kitchen:cook-update' user.pk %}" class="btn btn-primary">
                Update your info
              </a>
            </div>
          {% endif %}
        </div>

      </div>
    </div>
  </div>
{% endblock %}
